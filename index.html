<!DOCTYPE html>
<html lang="en" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="discription" content="نرم افزار محاسبه معدل">
    <meta name="author" content="Mahdi Rezaii">
    <title>Cactus</title>
    <link rel="icon" href="./img/cactus-192x192.png">
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./fonts/Vazirmatn-font-face.css">
    <link rel="stylesheet" href="./style.css">
    <link rel="manifest" href="/cactus/manifest.json">
</head>
<body>
    <div class="background"></div>
    <header>
        <box>
            <h2>Cactus <span>GPA</span> calculator</h2>
        </box>
    </header>
    <div class="body">
        <div class="table-container">
            <table id="gradesTable">
                <thead>
                    <tr>
                        <th class="txt row"></th>
                        <th class="txt name">نام درس</th>
                        <th class="txt grade">نمره</th>
                        <th class="txt unit">واحد</th>
                        <th class="button_x"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="row">1</td>
                        <td><input type="text" name="courseName" placeholder="(اختیاری)"></td>
                        <td><input type="number" name="courseGrade" placeholder="از 20 نمره" max="20" min="0"></td>
                        <td><input type="number" name="courseUnits" placeholder="مثلا 2 واحد"></td>
                        <td><button title="حذف" id="button_x" onclick="removeRow(this)">x</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="after_table">
            <div>
                <button class="button add" onclick="addRow()">افزودن ردیف</button>
            </div>
            <div>
                <button class="button addRequiredCourses" onclick="addRequiredCourses()">افزودن دروس ضروری علوم پایه</button>
            </div>
            <div class="save_delete">
                <button class="button save" onclick="saveGrades()">ذخیره دروس</button>
                <button class="button delete" onclick="clearCache()">حذف دروس</button>
            </div>
            <div class="cal_resualt">
                <box id="gpaResult">* RESUALT:</box>
                <button class="button calculate" onclick="calculateGPA()">محاسبه معدل</button>
            </div>
        </div>
    </div>
    <div id="successMessage" class="show-message">دروس با موفقیت ذخیره شدند</div>
    <button id="scrollToTopBtn" onclick="scrollToTop()">بازگشت به ابتدای صفحه</button>
    <footer>
        <box class="paraph">Hello, wellcome to cactus family! <br><hr></box>
        <a class="links" href="./about/">درباره من</a>
    </footer>

    <script src="script.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>